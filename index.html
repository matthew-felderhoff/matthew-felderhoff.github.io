<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Wedding Dress Style Selector</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 1200px;
    margin: auto;
    padding: 20px;
  }
  header {
    text-align: center;
    margin-bottom: 20px;
  }
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 16px;
  }
  .card {
    background: white;
    padding: 12px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .thumb {
    height: 250px;
    background: #eaeaea;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }
  .thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .info input[type="text"] {
    width: 100%;
    padding: 6px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  .btn {
    margin-top: 6px;
    padding: 6px 10px;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  .btn:hover {
    background: #0056b3;
  }
  .namelist {
    font-size: 14px;
    color: #444;
  }
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>Wedding Dress Style Selector</h1>
    <p>Add up to 100 styles. Visitors can enter their name on whichever style they choose.</p>
  </header>

  <div style="margin-bottom: 20px;">
    <button class="btn" id="addImagesBtn">Upload Images</button>
    <input type="file" id="imageUpload" accept="image/*" multiple style="display:none" />
  </div>

  <div class="gallery" id="gallery"></div>
</div>

<script>
const MAX_SLOTS = 100;
let slots = Array.from({length: MAX_SLOTS}, (_, i) => ({ id: i + 1, img: null, names: [] }));

const gallery = document.getElementById('gallery');
const imageUpload = document.getElementById('imageUpload');
const addImagesBtn = document.getElementById('addImagesBtn');

function renderGallery() {
  gallery.innerHTML = '';
  slots.forEach(slot => {
    const card = document.createElement('div');
    card.className = 'card';

    const thumb = document.createElement('div');
    thumb.className = 'thumb';

    if (slot.img) {
      const img = document.createElement('img');
      img.src = slot.img;
      thumb.appendChild(img);
    } else {
      thumb.innerHTML = `<span>Slot ${slot.id}</span>`;
    }

    const info = document.createElement('div');
    info.className = 'info';

    if (!slot.img) {
      const uploadInput = document.createElement('input');
      uploadInput.type = 'file';
      uploadInput.accept = 'image/*';
      uploadInput.addEventListener('change', e => {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = () => {
          slot.img = reader.result;
          renderGallery();
        };
        reader.readAsDataURL(file);
      });
      info.appendChild(uploadInput);
    }

    const nameInput = document.createElement('input');
    nameInput.type = 'text';
    nameInput.placeholder = 'Enter your name if you pick this style';

    const submitBtn = document.createElement('button');
    submitBtn.className = 'btn';
    submitBtn.textContent = 'Submit';
    submitBtn.addEventListener('click', () => {
      if (nameInput.value.trim() !== '') {
        slot.names.push(nameInput.value.trim());
        renderGallery();
      }
    });

    const namesList = document.createElement('div');
    namesList.className = 'namelist';
    namesList.textContent = slot.names.length ? `Chosen by: ${slot.names.join(', ')}` : 'No selections yet';

    info.appendChild(nameInput);
    info.appendChild(submitBtn);
    info.appendChild(namesList);

    card.appendChild(thumb);
    card.appendChild(info);
    gallery.appendChild(card);
  });
}

addImagesBtn.addEventListener('click', () => imageUpload.click());

imageUpload.addEventListener('change', e => {
  const files = Array.from(e.target.files);
  let fileIndex = 0;

  for (let i = 0; i < slots.length && fileIndex < files.length; i++) {
    if (!slots[i].img) {
      const reader = new FileReader();
      reader.onload = () => {
        slots[i].img = reader.result;
        renderGallery();
      };
      reader.readAsDataURL(files[fileIndex]);
      fileIndex++;
    }
  }
});

renderGallery();
</script>
</body>
</html>
